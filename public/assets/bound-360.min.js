(()=>{"use strict";function e(t){if(!t)return"";if(""!==t.id)return'//*[@id="'.concat(t.id,'"]');var n=t.parentNode;if(!(n&&n instanceof HTMLElement))return t.tagName.toLowerCase();var r=Array.from(n.children).filter((function(e){return e.tagName===t.tagName})).indexOf(t)+1;return"".concat(e(n),"/").concat(t.tagName.toLowerCase(),"[").concat(r,"]")}function t(e){for(var t={},n=window.getComputedStyle(e),r=0;r<n.length;r++){var a=n[r];t[a]=n.getPropertyValue(a)}return t}function n(e){for(var t={},n=0;n<e.attributes.length;n++){var r=e.attributes[n];t[r.name]=r.value}return t}var r=function(e){var t=function(e){var n=function(e){var t=e.tagName.toLowerCase(),n=e.id.trim(),r=Array.from(e.classList);return n?t+"#"+n:r.length?t+"."+r.join("."):t}(e),r=[];return e.children.length?(Array.from(e.children).forEach((function(e){e instanceof HTMLElement&&r.push(t(e))})),{elementDetail:n,childrenDetails:r}):{elementDetail:n}};return t(e)},a=new(function(){function a(){}return a.prototype.selectElement=function(a){var o={action:"selected",data:{id:a.id,value:a.innerHTML,styles:t(a),attributes:n(a),xpath:e(a),classes:Array.from(a.classList),domElementTree:r(a)}};console.log("sending post message..",o),window.parent.postMessage(o,"*")},a.prototype.updateSelectedElement=function(e){return e},a.prototype.highlightElement=function(e){return e},a.prototype.unhighlightElement=function(e){return e},a}());window.self!==window.top&&(document.addEventListener("click",(function(e){console.log("click"),e.preventDefault(),e.stopPropagation(),a.selectElement(e.target)}),!0),document.addEventListener("mouseover",(function(e){a.highlightElement(e.target)})),document.addEventListener("mouseout",(function(e){a.unhighlightElement(e.target)})),window.addEventListener("message",(function(e){"updateSelectedElement"===e.data.action&&a.updateSelectedElement(e.data.value)})))})();