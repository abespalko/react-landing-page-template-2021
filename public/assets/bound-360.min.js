(()=>{"use strict";function e(t){if(!t)return"";if(""!==t.id)return'//*[@id="'.concat(t.id,'"]');var n=t.parentNode;if(!(n&&n instanceof HTMLElement))return t.tagName.toLowerCase();var o=Array.from(n.children).filter((function(e){return e.tagName===t.tagName})).indexOf(t)+1;return"".concat(e(n),"/").concat(t.tagName.toLowerCase(),"[").concat(o,"]")}function t(e){for(var t={},n=window.getComputedStyle(e),o=0;o<n.length;o++){var l=n[o];t[l]=n.getPropertyValue(l)}return t}function n(e){for(var t={},n=0;n<e.attributes.length;n++){var o=e.attributes[n];t[o.name]=o.value}return t}var o=function(e){var t=function(e){var n=function(e){var t=e.tagName.toLowerCase(),n=e.id.trim(),o=Array.from(e.classList);return n?t+"#"+n:o.length?t+"."+o.join("."):t}(e),o=[];return e.children.length?(Array.from(e.children).forEach((function(e){e instanceof HTMLElement&&o.push(t(e))})),{nodeName:n,childNodes:o}):{nodeName:n}};return t(e)},l=new(function(){function l(){}return l.prototype.selectElement=function(l){var i,r,a={action:"selected",data:{id:l.id,type:l.tagName.toLowerCase(),value:l.innerHTML,styles:t(l),attributes:n(l),xpath:e(l),classes:Array.from(l.classList),domElementTree:o(l)},iframeMetaData:{url:window.location.href}};console.log("sending post message..",a),window.parent.postMessage(a,"*");var d=document.querySelector(".editor-selected-label"),s=document.querySelector(".editor-highlighted-label");d.style.display="none",null===(r=null===(i=document.querySelector(".editor-selected"))||void 0===i?void 0:i.classList)||void 0===r||r.remove("editor-selected"),l.classList.add("editor-selected"),d.innerHTML=l.tagName.toLowerCase(),d.style.display="block",d.style.left=s.style.left,d.style.top=s.style.top},l.prototype.updateSelectedElement=function(e){var t,n=(t=null==e?void 0:e.xpath,document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue);if(null!==n)for(var o in e.styles)n.style[o]=e.styles[o];return e},l.prototype.highlightElement=function(e){e.classList.add("editor-highlighted");var t=document.querySelector(".editor-highlighted-label");t.innerHTML=e.tagName.toLowerCase(),t.style.display="block";var n=e.getBoundingClientRect(),o=window.scrollX||document.documentElement.scrollTop,l=n.top-t.offsetHeight<0?n.top+t.offsetHeight+o:n.top+o;t.style.left="".concat(n.left,"px"),t.style.top="".concat(l,"px")},l.prototype.unhighlightElement=function(e){e.classList.remove("editor-highlighted"),document.querySelector(".editor-highlighted-label").style.display="none"},l}()),i=function(){return"\n      .editor-highlighted, .editor-selected {\n        outline: #F44336 0.25rem solid !important;\n        outline-offset: -0.25rem !important;\n      }\n      .editor-highlighted-label, .editor-selected-label {\n        display: none;\n        position: absolute;\n        background-color: #F44336;\n        color: white;\n        padding: 0.5rem 0.375rem;\n        font-size: 0.75rem;\n        font-weight: 700;\n        transform: translateY(-100%);\n        z-index: 9999;\n      }\n    "};window.self!==window.top&&(document.addEventListener("click",(function(e){console.log("click"),e.preventDefault(),e.stopPropagation(),l.selectElement(e.target)}),!0),document.addEventListener("mouseover",(function(e){l.highlightElement(e.target)})),document.addEventListener("mouseout",(function(e){l.unhighlightElement(e.target)})),window.addEventListener("message",(function(e){"updateSelectedElement"===e.data.action&&l.updateSelectedElement(e.data.data)})),window.addEventListener("load",(function(){var e,t;(t=document.createElement("style")).textContent=i(),document.head.appendChild(t),(e=[])[0]=document.createElement("div"),e[0].classList.add("editor-highlighted-label"),document.body.appendChild(e[0]),e[1]=document.createElement("div"),e[1].classList.add("editor-selected-label"),document.body.appendChild(e[1])})))})();